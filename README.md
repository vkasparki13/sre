> у нас мультизональный кластер (три зоны), в котором пять нод
Допустим, что ноды распределены по зонам 2:2:1
> на первые запросы приложению требуется значительно больше ресурсов CPU, в дальнейшем потребление ровное в районе 0.1 CPU. По памяти всегда “ровно” в районе 128M memory
В таком случае лимиты по CPU не указываем.
> приложение имеет дневной цикл по нагрузке – ночью запросов на порядки меньше, пик – днём
Исходя из этого напрашивается HPA. Например, min=3 (чтобы оставить по одному поду в каждой зоне), max=4 (исходя из результатов нагрузочного тестирования). Но так как HPA оперирует только метриками, то при снижении нагрузки нет гарантии, что в каждой зоне останется по одному поду. Поэтому вариант с скейлом решил не использовать.

